require.config({baseUrl:"./",paths:{jquery:"js/jquery1.8.3",mock:"http://mockjs.com/dist/mock",page:"js/page"}}),require(["jquery"],function(e){e(function(){e("#topbg").load("index.html #topbg .top"),e("#footer-out").load("login.html #footer-out .footer"),e("#footer-service").load("login.html #footer-service .service-con"),e("#footer-copyright").load("login.html #footer-copyright p"),e("#footer-icon").load("login.html #footer-icon a"),require(["mock"],function(i){i.mock("http://g.cn",{"src|12":[{"pic|1-5":1,"userId|100000-999999":20,text:"这是评论的内容，this is the content of pinglun",time:'@DATETIME("yyyy-MM-dd")'}]}),e.ajax({url:"http://g.cn",dataType:"json"}).done(function(i,s,c){if(console.log(i.src.length),i.src.length>0){e(".detail-con-pl .no-text").css("display","none");var t=document.createElement("ul");t.className="pl-list";for(var o=i.src.length<5?i.src.length:5,l=0;l<o;l++){var r=i.src[l].pic+".jpg",n=document.createElement("li");n.innerHTML='<div class="photo"> <img src="img/'+r+'" /> <p>'+i.src[l].userId+'</p> </div> <div class="txt"> <p>'+i.src[l].text+"</p> <i>"+i.src[l].time+"</i> </div>",e(t).append(n)}e(".detail-con-pl").prepend(t),require(["page"],function(){var s=Math.ceil(i.src.length/5);e(".pageTest").page({leng:s,activeClass:"activP",clickBack:function(c){var t=5*(c-1),o=5*c;if(c===s)o=i.src.length;e(".detail-con-pl .pl-list").remove();var l=document.createElement("ul");l.className="pl-list";for(var r=t;r<o;r++){var n=i.src[r].pic+".jpg",p=document.createElement("li");p.innerHTML='<div class="photo"> <img src="img/'+n+'" /> <p>'+i.src[r].userId+'</p> </div> <div class="txt"> <p>'+i.src[r].text+"</p> <i>"+i.src[r].time+"</i> </div>",e(l).append(p)}e(".detail-con-pl").prepend(l)}})})}})}),e(window).scroll(function(){e(window).scrollTop()>500?e("#scroll").css("display","block"):e("#scroll").css("display","none"),e(window).scrollTop()>730?e("#product-tit").css({position:"fixed",top:0,"z-index":4}):e("#product-tit").css({position:"static"})}),e("#product-tit a").click(function(){e(this).addClass("clicked").siblings("a").removeClass("clicked"),e("#product-con").children().eq(e(this).index()).css("display","block").siblings().css("display","none")}),e("#product-data-color a").add(e("#product-data-size a")).click(function(){e(this).addClass("chosed").siblings("a").removeClass("chosed")}),e(".address-to .address-con li ul li").click(function(){console.log(this),e(".address-to .address-t").html(e(this).children("span").html())}),e("#scroll .scroll").click(function(){e(window).scrollTop()>0&&e("html").animate({scrollTop:0},500)}),e("#preview .s-pic .list ul li").on("mouseenter","a",function(){var i=e(this).children().attr("src").replace("s_","m_");e("#preview .m-pic img").attr("src",i)}),e("#preview .m-pic").mouseenter(function(){e(this).children("i").css("display","none"),e("#preview .mask").css("display","block"),e("#preview .big-pic").css("display","block");var i=e(this).children("img").attr("src").replace("m_","b_");e("#preview .big-pic img").attr("src",i)}),e("#preview .m-pic").mousemove(function(i){var s=i.pageX-e("#preview .m-pic").offset().left-165,c=i.pageY-e("#preview .m-pic").offset().top-165;s<0&&(s=0),c<0&&(c=0);var t=e("#preview .m-pic").width()-e("#preview .mask").width(),o=e("#preview .m-pic").height()-e("#preview .mask").height();s>t&&(s=t),c>o&&(c=o),e("#preview .mask").css({left:s,top:c}),e("#preview .big-pic img").css({left:-2*s,top:-2*c})}),e("#preview .m-pic").mouseleave(function(){e(this).children("i").css("display","block"),e("#preview .mask").css("display","none"),e("#preview .big-pic").css("display","none")})})});