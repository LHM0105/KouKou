define(["jquery"],function(a){!function(a){var s,l,e={leng:9,activeClass:"page-active",firstPage:"首页",lastPage:"末页",prv:"«",next:"»",clickBack:function(){}};a.fn.extend({page:function(t){return l=t,s=a.extend(e,t),console.log(s,998,this),this.each(function(){function l(){var l=parseInt(a("."+s.activeClass).html()),e=l-4,t="";for(i=0;i<9;i++)t+='<li><a href="javascript:" class="">'+(e+i)+"</a></li>";c.find("ul").html(t),c.find("ul li").eq(4).find("a").addClass(s.activeClass)}function e(a){var l="";if(r>8)for(i=0;i<9;i++)l+='<li><a href="javascript:" class="">'+(i+1)+"</a></li>";else for(i=0;i<r;i++)l+='<li><a href="javascript:" class="">'+(i+1)+"</a></li>";c.find("ul").html(l),c.find("ul li").eq(a).find("a").addClass(s.activeClass)}function t(a){var l="";if(r>8){for(i=r-8;i<r+1;i++)l+='<li><a href="javascript:" class="">'+i+"</a></li>";c.find("ul").html(l),c.find("ul li").eq(a).find("a").addClass(s.activeClass)}else{for(i=0;i<r;i++)l+='<li><a href="javascript:" class="">'+(i+1)+"</a></li>";c.find("ul").html(l),c.find("ul li").eq(a).find("a").addClass(s.activeClass)}}var c=a(this),v="",n="",r=s.leng;if(r>1&&r<10)for(v='<li><a href="javascript:" class="'+s.activeClass+'">1</a></li>',i=2;i<r+1;i++)n+='<li><a href="javascript:">'+i+"</a></li>";else if(r>9)for(v='<li><a href="javascript:" class="'+s.activeClass+'">1</a></li>',i=2;i<10;i++)n+='<li><a href="javascript:">'+i+"</a></li>";else v='<li><a href="javascript:" class="'+s.activeClass+'">1</a></li>';c.html('<div class="next" style="float:right">'+s.next+'</div><div class="last" style="float:right">'+s.lastPage+'</div><ul class="pagingUl">'+v+n+'</ul><div class="first" style="float:right">'+s.firstPage+'</div><div class="prv" style="float:right">'+s.prv+"</div>"),c.on("click",".next",function(){var i=parseInt(a("."+s.activeClass).html());if(i==r)return!1;i==r||(i>r-5&&i<r?a("."+s.activeClass).removeClass(s.activeClass).parent().next().find("a").addClass(s.activeClass):i>0&&i<6?a("."+s.activeClass).removeClass(s.activeClass).parent().next().find("a").addClass(s.activeClass):(a("."+s.activeClass).removeClass(s.activeClass).parent().next().find("a").addClass(s.activeClass),l())),s.clickBack(i+1)}),c.on("click",".prv",function(){var i=parseInt(a("."+s.activeClass).html());if(1==i)return!1;i>r-5&&i<r+1?a("."+s.activeClass).removeClass(s.activeClass).parent().prev().find("a").addClass(s.activeClass):i>1&&i<6?a("."+s.activeClass).removeClass(s.activeClass).parent().prev().find("a").addClass(s.activeClass):(a("."+s.activeClass).removeClass(s.activeClass).parent().prev().find("a").addClass(s.activeClass),l()),s.clickBack(i-1)}),c.on("click",".first",function(){if(1==parseInt(a("."+s.activeClass).html()))return!1;a("."+s.activeClass).removeClass(s.activeClass).parent().prev().find("a").addClass(s.activeClass),e(0),s.clickBack(1)}),c.on("click",".last",function(){var i=r;if(parseInt(a("."+s.activeClass).html())==r)return!1;r>9?(a("."+s.activeClass).removeClass(s.activeClass).parent().prev().find("a").addClass(s.activeClass),t(8)):(a("."+s.activeClass).removeClass(s.activeClass).parent().prev().find("a").addClass(s.activeClass),t(r-1)),s.clickBack(i)}),c.on("click","li",function(){var i=a(this),c=parseInt(i.find("a").html()),v=parseInt(a("."+s.activeClass).html());if(console.log(r,256),c==v)return!1;r>9?(console.log(1234567,c,r),c>r-5&&c<r+1?(a("."+s.activeClass).removeClass(s.activeClass),i.find("a").addClass(s.activeClass),t(8-(r-c))):c>0&&c<5?(a("."+s.activeClass).removeClass(s.activeClass),i.find("a").addClass(s.activeClass),e(c-1)):(a("."+s.activeClass).removeClass(s.activeClass),i.find("a").addClass(s.activeClass),l())):(console.log(123456),a("."+s.activeClass).removeClass(s.activeClass),i.find("a").addClass(s.activeClass)),s.clickBack(c)})})},setLength:function(s){l.leng=s,a(this).html(""),a(this).unbind(),a(this).page(l)}})}(jQuery)});